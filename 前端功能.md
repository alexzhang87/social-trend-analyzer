# 前端需求规格说明书 (供后端开发使用)

## 1. 项目概述

本项目是一个社交媒体趋势分析工具。前端应用允许用户输入关键词、设定筛选条件，然后通过调用后端API来获取分析结果。分析结果以专业、可视化的仪表盘形式呈现，旨在帮助用户快速发现新兴趋势、洞察消费者痛点，并验证商业创意。

---

## 2. 前端核心功能模块

前端目前已实现以下功能，后端API需要为这些功能提供数据支持：

-   **主分析仪表盘 (`AnalysisResults`)**:
    -   **关键指标卡片 (`OverviewCards`)**: 展示分析结果的宏观数据（如：平均热度、总提及数等）。
    -   **关键词云 (`WordCloudPanel`)**: 将所有趋势中的关键词以动态词云形式展示，高频词更突出。
    -   **趋势列表 (`TrendList`)**: 以专业的卡片形式，逐条展示分析出的趋势摘要。

-   **趋势详情弹窗 (`TrendModal`)**:
    -   **核心需求 (`Core Need`)**: 展示从数据中提炼出的核心用户痛点。
    -   **热度分数趋势图**: 以折线图展示一个趋势在7天内的热度变化。
    -   **情感分析图 (`Emotion Analysis`)**: 以水平条形图展示提及内容的情感分布（喜悦、悲伤、愤怒、讽刺、中性）。
    -   **痛点与证据 (`Pain Points & Evidence`)**: 详细列出用户痛点，并提供具体的社媒提及作为证据。
    -   **机会点 (`Opportunities`)**: 基于痛点分析出的潜在产品或市场机会。
    -   **7天MVP计划 (`MVP Plan`)**: 提供一个可执行的、为期7天的最小可行产品开发计划。

---

## 3. API 端点设计 (V1)

前端应用目前需要一个核心API端点来获取所有分析数据。

### `GET /api/trends`

-   **描述**: 根据用户输入的筛选条件，获取一个或多个趋势分析集群。
-   **请求参数 (Query Parameters)**:

| 参数名      | 类型   | 是否必须 | 描述                                                              | 示例值                  |
| :---------- | :----- | :------- | :---------------------------------------------------------------- | :---------------------- |
| `keyword`   | string | 是       | 用户输入的核心分析关键词（趋势、产品或行业）。                    | `AI assistant`          |
| `platform`  | string | 否       | 筛选的社交平台。如果未提供，则默认为 "Both"。                     | `x`, `reddit`, `both`   |
| `timeRange` | string | 否       | 筛选的时间范围。如果未提供，则默认为 "1 Week"。                   | `1 Week`, `1 Month`     |
| `category`  | string | 否       | 筛选的行业分类。如果未提供，则默认为 "All Categories"。           | `AI & SaaS`             |

-   **成功响应 (200 OK)**:
    -   **Content-Type**: `application/json`
    -   **Body**: 返回一个包含多个 `TrendCluster` 对象的JSON数组。

---

## 4. 核心数据模型

后端返回的每个 `TrendCluster` 对象必须遵循以下结构。这是确保前端组件能正确渲染数据的关键。

```json
[
  {
    "cluster_id": "string",
    "title": "string",
    "category": "string",
    "hot_score": "number",
    "platforms": ["string"],
    "keywords": ["string"],
    "date": "string (ISO 8601 Format, e.g., '2025-08-15T12:00:00Z')",
    "trend_history": [
      {
        "date": "string (ISO 8601 Format)",
        "score": "number"
      }
    ],
    "emotion_analysis": {
      "joy": "number",
      "sadness": "number",
      "anger": "number",
      "sarcasm": "number",
      "neutral": "number"
    },
    "pain_points": [
      {
        "text": "string",
        "intent": "string",
        "severity": "number (0-100)",
        "confidence": "number (0-1)",
        "evidence": [
          {
            "text": "string",
            "author": "string",
            "platform": "string ('x' or 'reddit')",
            "url": "string (URL to original post)"
          }
        ]
      }
    ],
    "opportunities": [
      {
        "text": "string",
        "impact": "number (1-10)",
        "effort": "number (1-10)"
      }
    ],
    "mvp_1week": {
      "goal": "string",
      "days": ["string"],
      "resources": "string",
      "budget_usd": "number",
      "kpi": "string"
    }
  }
]